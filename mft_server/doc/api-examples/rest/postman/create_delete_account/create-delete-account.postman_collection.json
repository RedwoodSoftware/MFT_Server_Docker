{
	"info": {
		"_postman_id": "bca7381d-b1c0-4946-974b-2f7c4adf021d",
		"name": "create-delete-account",
		"description": "This folder contains examples on how to login to REST Server API and create / delete a account\n\n**Create Account**\n\nSteps to acheive it\n\n1. Get CSRF token before login (API - Get CSRF token before login).\n2. Login into MFT server (API - Login request ).\n3. Get CSRF token after login (API - Get CSRF token after login).\n4. Create Account (API - Create account ).\n5. Logout from MFT Server (API - Logout request ).\n    \n\n**Delete Account**\n\nSteps to acheive it\n\n1. Get CSRF token before login (API - Get CSRF token before login).\n2. Login into MFT server (API - Login request ).\n3. Get CSRF token after login (API - Get CSRF token after login).\n4. Delete Account (API - Delete account ).\n5. Logout from MFT Server (API - Logout request ).",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "6922053"
	},
	"item": [
		{
			"name": "create account",
			"item": [
				{
					"name": "API - Get CSRF token before login",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"csrf-token\", \"\");",
									"var jsonData= responseBody;",
									"pm.collectionVariables.set(\"csrf-token\", jsonData);"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/csrf-token",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"csrf-token"
							]
						},
						"description": "API Request to get the CSRF token before login to the server.\n\nModify the collection variables as required, by default the below are the values configured.\n\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)"
					},
					"response": []
				},
				{
					"name": "API - Login request",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if(pm.request.body && pm.request.body.raw) pm.request.body.raw = pm.request.body.raw.replace(/\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*/g,'');"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						},
						"followRedirects": false
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text"
							},
							{
								"key": "x-js-at",
								"value": "{{csrf-token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"admin\"\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/login",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"login"
							]
						},
						"description": "API Request to login into MFT Server.\n\nModify the server username and password on the json body.\n\nModify the collection variables as required, by default the below are the values configured.\n\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)"
					},
					"response": []
				},
				{
					"name": "API - Get CSRF token after login",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"csrf-token\", \"\");",
									"var jsonData= responseBody;",
									"pm.collectionVariables.set(\"csrf-token\", jsonData);"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/csrf-token",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"csrf-token"
							]
						},
						"description": "API Request to get the CSRF token after login to the server.\n\nModify the collection variables as required, by default the below are the values configured.\n\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)"
					},
					"response": []
				},
				{
					"name": "API - Create Account",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if(pm.request.body && pm.request.body.raw) pm.request.body.raw = pm.request.body.raw.replace(/\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*/g,'');"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text"
							},
							{
								"key": "x-js-at",
								"value": "{{csrf-token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "/*\nModify the JSON request body parameter keys a) username b) login and c) password as required\n*/\n{\n    \"username\": \"test\",\n    \"login\": \"test\",\n    \"password\": \"test\",\n    \"groups\": [],\n    \"emailAddress\": \"\",\n    \"company\": null,\n    \"phone\": {\n        \"code\": \"\",\n        \"number\": \"\",\n        \"extension\": \"\"\n    },\n    \"bindedKeys\": [],\n    \"owner\": null,\n    \"expirationDate\": null,\n    \"uploadsQuota\": null,\n    \"downloadsQuota\": null,\n    \"transfersQuota\": null,\n    \"resources\": [\n        {\n            \"path\": \"\",\n            \"accessPermissions\": {\n                \"fileDownloadingAllowed\": true,\n                \"fileUploadingAllowed\": true,\n                \"fileOverwritingAllowed\": true,\n                \"fileDeletionAllowed\": true,\n                \"fileAppendingAllowed\": true,\n                \"fileListingAllowed\": true,\n                \"fileRenamingAllowed\": true,\n                \"fileSharingAllowed\": true,\n                \"directoriesListingAllowed\": true,\n                \"directoryMakingAllowed\": true,\n                \"directoryDeletionAllowed\": true,\n                \"subdirectoriesBrowsingAllowed\": true\n            },\n            \"secured\": false,\n            \"denied\": false,\n            \"indexable\": true,\n            \"realPath\": \"%installdir%/users/%domain%/%username%\",\n            \"createIfNotExists\": true,\n            \"pgpEncryption\": {\n                \"keyProvider\": {\n                    \"file\": \"/.pgp/key.pub\"\n                },\n                \"enabled\": false\n            },\n            \"dataLossPrevention\": {\n                \"icapAccess\": null,\n                \"enabled\": false,\n                \"rules\": []\n            }\n        }\n    ],\n    \"administration\": null,\n    \"secured\": false,\n    \"enabled\": true,\n    \"passwordChangingAllowed\": true,\n    \"emailFileTransferAllowed\": true,\n    \"adHocTransferPermissions\": [\n        \"EXTERNAL\"\n    ],\n    \"usePhoneAuthentication\": false,\n    \"ignorePasswordAgingRules\": false,\n    \"uiTheme\": null,\n    \"customUiTheme\": null,\n    \"allowedProtocols\": null,\n    \"loginRedirection\": {\n        \"target\": \"storage\"\n    },\n    \"lastLoginDate\": null,\n    \"ipAccessVerifier\": {},\n    \"maxUploadsPerSession\": null,\n    \"maxDownloadsPerSession\": null,\n    \"webPublicKeyAuthenticationAvailable\": true,\n    \"webOpenPgpEncryptionAvailable\": true,\n    \"webQuotasAvailable\": true,\n    \"webContactsAvailable\": true,\n    \"webAdHocActivityAvailable\": true,\n    \"webDropZonesAvailable\": true,\n    \"webAccountLinkAvailable\": true,\n    \"webPersonalInformationAvailable\": true,\n    \"sftpPublicKeyAuthenticationRequired\": false,\n    \"passwordExpirationNotification\": null,\n    \"notes\": \"This account is created using Postman API\",\n    \"tags\": [],\n    \"creationDate\": {{$timestamp}},\n    \"version\": 1,\n    \"passwordDate\": {{$timestamp}},\n    \"maxTransferRate\": null\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/accounts/{{domainName}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"accounts",
								"{{domainName}}"
							]
						},
						"description": "- API Request to add the account.\n    \n\nModify the JSON request body parameter keys a) username b) login and c) password as required\n\nModify the collection variables as required, by default the below are the values configured.\n\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)\n- domainName (default - testdomain)"
					},
					"response": []
				},
				{
					"name": "API - Logout request",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true,
							"accept-encoding": true,
							"connection": true
						}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text"
							},
							{
								"key": "x-js-at",
								"value": "{{csrf-token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/logout",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"logout"
							]
						},
						"description": "API Request to logout from MFT Server\n\nModify the collection variables as required, by default the below are the values configured.\n\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)"
					},
					"response": []
				}
			],
			"description": "This folder contains examples on how to login to REST Server API and create a account.\n\n**Create Account**\n\nSteps to acheive it\n\n1. Get CSRF token before login (API - Get CSRF token before login).\n2. Login into MFT server (API - Login request ).\n3. Get CSRF token after login (API - Get CSRF token after login).\n4. Create Account (API - Create account ).\n5. Logout from MFT Server (API - Logout request )."
		},
		{
			"name": "delete account",
			"item": [
				{
					"name": "API - Get CSRF token before login",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"csrf-token\", \"\");",
									"var jsonData= responseBody;",
									"pm.collectionVariables.set(\"csrf-token\", jsonData);"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/csrf-token",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"csrf-token"
							]
						},
						"description": "API Request to get the CSRF token before login to the server.\n\nModify the collection variables as required, by default the below are the values configured.\n\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)"
					},
					"response": []
				},
				{
					"name": "API - Login request",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"if(pm.request.body && pm.request.body.raw) pm.request.body.raw = pm.request.body.raw.replace(/\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*/g,'');"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						},
						"followRedirects": false
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text"
							},
							{
								"key": "x-js-at",
								"value": "{{csrf-token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"admin\"\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/login",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"login"
							]
						},
						"description": "API Request to login into MFT Server.\n\nModify the server username and password on the json body.\n\nModify the collection variables as required, by default the below are the values configured.\n\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)"
					},
					"response": []
				},
				{
					"name": "API - Get CSRF token after login",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"csrf-token\", \"\");",
									"var jsonData= responseBody;",
									"pm.collectionVariables.set(\"csrf-token\", jsonData);"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/csrf-token",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"csrf-token"
							]
						},
						"description": "API Request to get the CSRF token after login to the server.\n\nModify the collection variables as required, by default the below are the values configured.\n\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)"
					},
					"response": []
				},
				{
					"name": "API - Delete Account",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text"
							},
							{
								"key": "x-js-at",
								"value": "{{csrf-token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/accounts/{{domainName}}/{{loginName}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"accounts",
								"{{domainName}}",
								"{{loginName}}"
							]
						},
						"description": "- API Request to delete the account.\n    \n\nModify the collection variables as required, by default the below are the values configured.\n\n- loginName (default - test)\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)\n- domainName (default - testdomain)"
					},
					"response": []
				},
				{
					"name": "API - Logout request",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true,
							"connection": true,
							"accept-encoding": true
						}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Requested-With",
								"value": "XMLHttpRequest",
								"type": "text"
							},
							{
								"key": "x-js-at",
								"value": "{{csrf-token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{serverhost}}:{{servermanagementport}}/rest/management/logout",
							"protocol": "{{protocol}}",
							"host": [
								"{{serverhost}}"
							],
							"port": "{{servermanagementport}}",
							"path": [
								"rest",
								"management",
								"logout"
							]
						},
						"description": "API Request to logout from MFT Server\n\nModify the collection variables as required, by default the below are the values configured.\n\n- serverhost (default - localhost)\n- servermanagementport (default-11880)\n- protocol (default - http)"
					},
					"response": []
				}
			],
			"description": "This folder contains examples on how to login to REST Server API and delete a account\n\n**Delete Account**\n\nSteps to acheive it\n\n1. Get CSRF token before login (API - Get CSRF token before login).\n2. Login into MFT server (API - Login request ).\n3. Get CSRF token after login (API - Get CSRF token after login).\n4. Delete Account (API - Delete account ).\n5. Logout from MFT Server (API - Logout request )."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "domainName",
			"value": "testdomain",
			"type": "string"
		},
		{
			"key": "serverhost",
			"value": "localhost",
			"type": "string"
		},
		{
			"key": "servermanagementport",
			"value": "11880",
			"type": "string"
		},
		{
			"key": "protocol",
			"value": "http",
			"type": "string"
		},
		{
			"key": "csrf-token",
			"value": ""
		},
		{
			"key": "loginName",
			"value": "test",
			"type": "string"
		}
	]
}