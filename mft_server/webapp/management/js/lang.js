/* Copyright Â© 2009-2024. Redwood Software Inc. All rights reserved. */
jscape.ServerParameters=Class.extend({initialize:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){this.appVersion=a;this.appInstanceId=b;this.buildDate=c;this.interfaces=d||[];this.sslCiphers=e||[];this.sslFipsCiphers=f||[];this.sshKexes=g||[];this.sshHostKeys=h||[];this.sshCiphers=i||[];this.sshFipsCiphers=j||[];this.sshMacs=k||[];this.sshFipsMacs=l||[];this.sshCompressions=m||[];this.license=n||null;this.timeZone=o||"";}});jscape.ServerParameters.ALL_HOSTS={IPV4:"0.0.0.0",IPV6:"::"};jscape.ServerParameters.allAddress=function(host){return jscape.ServerParameters.ALL_HOSTS.IPV4===host||jscape.ServerParameters.ALL_HOSTS.IPV6===host;};jscape.ServerParameters.allHostsIpv4=function(value){return jscape.ServerParameters.ALL_HOSTS.IPV4===value;};jscape.ServerParameters.allHostsIpv6=function(value){return jscape.ServerParameters.ALL_HOSTS.IPV6===value;};jscape.ServerParameters.fromJSON=function(data){return new jscape.ServerParameters(data.applicationVersion,data.applicationInstanceId,data.buildDate,data.interfaces,data.sslCiphers,data.sslFipsCiphers,data.sshKexes,data.sshHostKeys,data.sshCiphers,data.sshFipsCiphers,data.sshMacs,data.sshFipsMacs,data.sshCompressions,data.license,data.timeZone);};jscape.ServerParameters.strongCiphers=function(){return["TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384","TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA","TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256","TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384","TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_256_CCM","TLS_ECDHE_ECDSA_WITH_AES_256_CCM_8","TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA","TLS_ECDHE_ECDSA_WITH_AES_128_CCM","TLS_ECDHE_ECDSA_WITH_AES_128_CCM_8","TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256","TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA","TLS_AES_256_GCM_SHA384","TLS_AES_128_GCM_SHA256","TLS_AES_128_CCM_8_SHA256","TLS_AES_128_CCM_SHA256","TLS_CHACHA20_POLY1305_SHA256"];};jscape.ServerParameters.mediumCiphers=function(){return["TLS_DHE_RSA_WITH_AES_256_GCM_SHA384","TLS_DHE_RSA_WITH_AES_256_CBC_SHA256","TLS_DHE_RSA_WITH_AES_256_CBC_SHA","TLS_DHE_RSA_WITH_AES_256_CCM","TLS_DHE_RSA_WITH_AES_256_CCM_8","TLS_DHE_RSA_WITH_AES_128_CBC_SHA256","TLS_DHE_RSA_WITH_AES_128_GCM_SHA256","TLS_DHE_RSA_WITH_AES_128_CBC_SHA","TLS_DHE_RSA_WITH_AES_128_CCM","TLS_DHE_RSA_WITH_AES_128_CCM_8","TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256","TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA","TLS_DHE_DSS_WITH_AES_256_GCM_SHA384","TLS_DHE_DSS_WITH_AES_256_CBC_SHA256","TLS_DHE_DSS_WITH_AES_256_CBC_SHA","TLS_DHE_DSS_WITH_AES_128_CBC_SHA256","TLS_DHE_DSS_WITH_AES_128_GCM_SHA256","TLS_DHE_DSS_WITH_AES_128_CBC_SHA","TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA","TLS_RSA_WITH_AES_256_GCM_SHA384","TLS_RSA_WITH_AES_256_CBC_SHA256","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_RSA_WITH_AES_256_CCM","TLS_RSA_WITH_AES_256_CCM_8","TLS_RSA_WITH_AES_128_CBC_SHA256","TLS_RSA_WITH_AES_128_GCM_SHA256","TLS_RSA_WITH_AES_128_CBC_SHA","TLS_RSA_WITH_AES_128_CCM","TLS_RSA_WITH_AES_128_CCM_8","TLS_RSA_WITH_3DES_EDE_CBC_SHA"].concat(jscape.ServerParameters.strongCiphers());};jscape.ServerStatistics=Class.extend({initialize:function(a,b,c,d,e,f,g,h){this.uptime=parseInt(a)||null;this.maxMemory=parseInt(b)||null;this.totalMemory=parseInt(c)||null;this.freeMemory=parseInt(d)||null;this.threads=parseInt(e)||null;this.databaseFileSize=parseInt(f)||null;this.managementConnections=parseInt(g)||null;this.domainStatistics=h||[];}});jscape.ServerStatistics.fromJSON=function(data){return data?new jscape.ServerStatistics(data.uptime,data.maxMemory,data.totalMemory,data.freeMemory,data.threads,data.databaseFileSize,data.managementConnections,$.map(data.domainStatistics,jscape.DomainStatistics.fromJSON)):null;};jscape.DomainStatistics=Class.extend({initialize:function(){this.domainName=null;this.autoStartEnabled=false;this.fipsModeEnabled=false;this.startDate=null;this.stopDate=null;this.paused=false;this.totalSessions=0;this.currentSessions=0;this.currentTransfers=0;this.filesUploaded=0;this.filesDownloaded=0;this.filesDeleted=0;this.bytesUploaded=0;this.bytesDownloaded=0;this.uploadsQuota=null;this.currentUploadedBytes=null;this.downloadsQuota=null;this.currentDownloadedBytes=null;this.transfersQuota=null;this.currentTransferredBytes=null;this.runningTriggers=0;this.completedTriggers=0;this.failedTriggers=0;this.successfulLogins=0;this.failedLogins=0;this.connectionStatistics=[];},isRunning:function(){return this.startDate!=null&&this.stopDate==null;},toJSON:function(){return JSON.stringify(this);}});jscape.DomainStatistics.fromJSON=function(data){return $.extend(new jscape.DomainStatistics(),data);};jscape.DomainStatus={RUNNING:"RUNNING",PAUSED:"PAUSED",STOPPED:"STOPPED"};jscape.DomainStatus.values=function(){return $.map(this,function(value){return typeof value!=="function"?value:null;})};jscape.DomainStatus.valueOf=function(statistics){return statistics.isRunning()&&statistics.paused?jscape.DomainStatus.PAUSED:statistics.isRunning()?jscape.DomainStatus.RUNNING:jscape.DomainStatus.STOPPED;};jscape.KeyPairAlgorithm=Class.extend({initialize:function(name,lengths,curves){this.name=name;this.lengths=lengths||[];this.curves=curves||[];}});jscape.KeyPairAlgorithm.RSA=new jscape.KeyPairAlgorithm("RSA",[1024,2048,3072,4096]);jscape.KeyPairAlgorithm.DSA=new jscape.KeyPairAlgorithm("DSA",[1024,2048,3072]);jscape.KeyPairAlgorithm.EC=new jscape.KeyPairAlgorithm("EC",[],["secp128r1","secp160k1","secp160r1","secp160r2","secp192k1","secp192r1","secp224k1","secp224r1","secp256k1","secp256r1","secp384r1","secp521r1","sect113r1","sect113r2","sect131r1","sect131r2","sect163k1","sect163r1","sect163r2","sect193r1","sect193r2","sect233k1","sect233r1","sect239k1","sect283k1","sect283r1","sect409k1","sect409r1","sect571k1","sect571r1","B-163","B-233","B-283","B-409","B-571","K-163","K-233","K-283","K-409","K-571","P-192","P-224","P-256","P-384","P-521"]);jscape.KeyPairAlgorithm.ED=new jscape.KeyPairAlgorithm("ED",[],["25519","448"]);jscape.KeyPairAlgorithm.values=function(){return $.map(this,function(value){return typeof value!=="function"?value:null;});};jscape.KeyPairAlgorithm.lengthsOf=function(algorithm){return $.map($.grep(jscape.KeyPairAlgorithm.values(),function(item){return item.name==algorithm;}),function(item){return item.lengths;});};jscape.KeyPairAlgorithm.curvesOf=function(algorithm){return $.map($.grep(jscape.KeyPairAlgorithm.values(),function(item){return item.name==algorithm;}),function(item){return item.curves;});};jscape.SignatureAlgorithm=Class.extend({initialize:function(a,b){this.hashAlgorithm=a;this.asymmetricalAlgorithm=b;this.name=(this.hashAlgorithm+"WITH"+this.asymmetricalAlgorithm).toUpperCase();},toJSON:function(){return this.hashAlgorithm;}});jscape.SignatureAlgorithm.SHA1_WITH_RSA=new jscape.SignatureAlgorithm("SHA1","RSA");jscape.SignatureAlgorithm.SHA1_WITH_DSA=new jscape.SignatureAlgorithm("SHA1","DSA");jscape.SignatureAlgorithm.SHA1_WITH_EC=new jscape.SignatureAlgorithm("SHA1","EC");jscape.SignatureAlgorithm.SHA224_WITH_RSA=new jscape.SignatureAlgorithm("SHA224","RSA");jscape.SignatureAlgorithm.SHA224_WITH_DSA=new jscape.SignatureAlgorithm("SHA224","DSA");jscape.SignatureAlgorithm.SHA224_WITH_EC=new jscape.SignatureAlgorithm("SHA224","EC");jscape.SignatureAlgorithm.SHA256_WITH_RSA=new jscape.SignatureAlgorithm("SHA256","RSA");jscape.SignatureAlgorithm.SHA256_WITH_DSA=new jscape.SignatureAlgorithm("SHA256","DSA");jscape.SignatureAlgorithm.SHA256_WITH_EC=new jscape.SignatureAlgorithm("SHA256","EC");jscape.SignatureAlgorithm.SHA384_WITH_RSA=new jscape.SignatureAlgorithm("SHA384","RSA");jscape.SignatureAlgorithm.SHA384_WITH_DSA=new jscape.SignatureAlgorithm("SHA384","DSA");jscape.SignatureAlgorithm.SHA384_WITH_EC=new jscape.SignatureAlgorithm("SHA384","EC");jscape.SignatureAlgorithm.SHA512_WITH_RSA=new jscape.SignatureAlgorithm("SHA512","RSA");jscape.SignatureAlgorithm.SHA512_WITH_DSA=new jscape.SignatureAlgorithm("SHA512","DSA");jscape.SignatureAlgorithm.SHA512_WITH_EC=new jscape.SignatureAlgorithm("SHA512","EC");jscape.SignatureAlgorithm.MD5_WITH_RSA=new jscape.SignatureAlgorithm("MD5","RSA");jscape.SignatureAlgorithm.ED_22519=new jscape.SignatureAlgorithm("ED25519","ED25519");jscape.SignatureAlgorithm.ED_448=new jscape.SignatureAlgorithm("ED448","ED448");jscape.SignatureAlgorithm.values=function(){return $.map(this,function(value){return typeof value!=="function"?value:null;});};jscape.SignatureAlgorithm.filter=function(func){return $.grep(jscape.SignatureAlgorithm.values(),func||$.noop);};jscape.SignatureAlgorithm.valueOf=function(value){var entries=jscape.SignatureAlgorithm.filter(function(entry){return entry.name===value||entry.hashAlgorithm===value;});return entries.length?entries[0]:null;};jscape.ServerKeySummary=Class.extend({initialize:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){this.name=a||"";this.keyAlgorithm=b||"";this.keySize=parseInt(c)||0;this.certificateSerialNumber=d||"";this.certificateBeginDate=parseInt(e)||0;this.certificateEndDate=parseInt(f)||0;this.certificateIssuer=g||"";this.certificateSubject=h||"";this.certificateSubjectAlternativeName=i||"";this.certificateSignatureAlgorithm=j||"";this.certificateSignature=k||"";this.revoked=l!=undefined?!!l:false;this.domain=m||"";this.domains=n||[];}});jscape.ServerKeySummary.fromJSON=function(data){return data?new jscape.ServerKeySummary(data.name,data.keyAlgorithm,data.keySize,data.certificateSerialNumber,data.certificateBeginDate,data.certificateEndDate,data.certificateIssuer,data.certificateSubject,data.certificateSubjectAlternativeName,data.certificateSignatureAlgorithm,data.certificateSignature,data.revoked,data.domain,data.domains):null;};jscape.PublicKeySummary=Class.extend({initialize:function(a,b,c,d){this.name=a||"";this.keyAlgorithm=b||"";this.keySize=parseInt(c)||0;this.domain=d||""}});jscape.PublicKeySummary.fromJSON=function(data){return data?new jscape.PublicKeySummary(data.name,data.keyAlgorithm,data.keySize,data.domain):null;};jscape.CertificateSummary=Class.extend({initialize:function(a,b,c,d,e,f,g,h,i,j,k,l,m){this.name=a||"";this.keyAlgorithm=b||"";this.keySize=parseInt(c)||0;this.certificateSerialNumber=d||"";this.certificateBeginDate=parseInt(e)||0;this.certificateEndDate=parseInt(f)||0;this.certificateIssuer=g||"";this.certificateSubject=h||"";this.certificateSubjectAlternativeName=i||"";this.certificateSignatureAlgorithm=j||"";this.certificateSignature=k||"";this.revoked=l!=undefined?!!l:false;this.domain=m||"";}});jscape.CertificateSummary.fromJSON=function(data){return data?new jscape.CertificateSummary(data.name,data.keyAlgorithm,data.keySize,data.certificateSerialNumber,data.certificateBeginDate,data.certificateEndDate,data.certificateIssuer,data.certificateSubject,data.certificateSubjectAlternativeName,data.certificateSignatureAlgorithm,data.certificateSignature,data.revoked,data.domain):null;};jscape.CertificateSummary.isCertificateData=function(data){return data&&"certificateSerialNumber"in data;};jscape.PgpKeySummary=Class.extend({initialize:function(a,b,c,d,e,f,g,h,i,j){this.name=a||"";this.keyAlgorithm=b||"";this.keySize=parseInt(c)||0;this.expirationDate=parseInt(d)||null;this.encryptionAllowed=!!e||false;this.decryptionAllowed=!!f||false;this.signingAllowed=!!g||false;this.signatureVerificationAllowed=!!h||false;this.fingerprint=i||"";this.domain=j||"";}});jscape.PgpKeySummary.fromJSON=function(data){return data?new jscape.PgpKeySummary(data.name,data.keyAlgorithm,data.keySize,data.expirationDate,data.encryptionAllowed,data.decryptionAllowed,data.signingAllowed,data.signatureVerificationAllowed,data.fingerprint,data.domain):null;};jscape.PgpSignatureDescriptor=Class.extend({initialize:function(a,b,c,d){this.signingKey=a||"";this.type=b||"";this.creationTime=parseInt(c)||0;this.version=parseInt(d)|0;}});jscape.PgpSignatureDescriptor.fromJSON=function(data){return new jscape.PgpSignatureDescriptor(data.signingKey,data.type,data.creationTime,data.version);};jscape.KeyProvider={fromJSON:function(data){return data&&(data.keyAlias||data.file)?(data.keyAlias?jscape.ServerKeyProvider.fromJSON(data):jscape.FileKeyProvider.fromJSON(data)):null;}};jscape.FileKeyProvider=Class.extend({initialize:function(a,b){this.file=a||"";this.filePassword=b||"";}});jscape.FileKeyProvider.fromJSON=function(data){return data?new jscape.FileKeyProvider(data.file,data.filePassword):null;};jscape.ServerKeyProvider=Class.extend({initialize:function(alias){this.keyAlias=alias||"";}});jscape.ServerKeyProvider.fromJSON=function(data){return data?new jscape.ServerKeyProvider(data.keyAlias):null;};jscape.NetworkInterfaceInfo=Class.extend({initialize:function(a,b,c){this.name=a;this.displayName=b||a;this.addresses=c||[];}});jscape.TransportService=Class.extend({initialize:function(a,b,c){this.protocol=a||undefined;this.host=b||undefined;this.port=parseInt(c)||undefined;}});jscape.TransportService.fromJSON=function(data){return data?$.extend(new jscape.TransportService(data.protocol,data.host,data.port),data):null;};jscape.TransportService.Protocol={AFTP:"AFTP",AGENT:"Agent",AS2:"AS2",FTP:"FTP",SFTP:"SFTP",OFTP:"OFTP",TFTP:"TFTP",HTTP:"HTTP",WEBDAV:"WEBDAV"};jscape.TransportService.FTP_TYPE={REGULAR:"regular",EXPLICIT_SSL:"explicit SSL",FORCED_EXPLICIT_SSL:"forced explicit SSL",IMPLICIT_SSL:"implicit SSL"};jscape.TransportService.ftp=function(host,port,type,key){switch(type){case jscape.TransportService.FTP_TYPE.EXPLICIT_SSL:case jscape.TransportService.FTP_TYPE.FORCED_EXPLICIT_SSL:case jscape.TransportService.FTP_TYPE.IMPLICIT_SSL:return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.FTP,host,port),{type:type,keyAlias:key});default:return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.FTP,host,port),{type:jscape.TransportService.FTP_TYPE.REGULAR});}};jscape.TransportService.sftp=function(host,port,authentication,key){return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.SFTP,host,port),{authenticationType:authentication,keyAlias:key});};jscape.TransportService.aftp=function(host,port,key,protect){return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.AFTP,host,port),{keyAlias:key,protectionRequired:!!protect});};jscape.TransportService.oftp=function(host,port,code,key,useSsl,encryptFile,signFile,bindTransfersUser){return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.OFTP,host,port),{identificationCode:code+"",keyAlias:key+"",connectionInitiallySecured:!!useSsl,fileEncryptionRequired:!!encryptFile,fileSignatureRequired:!!signFile,unauthenticatedTransferBinding:bindTransfersUser||null});};jscape.TransportService.tftp=function(host,port,username){return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.TFTP,host,port),{username:username});};jscape.TransportService.http=function(plain,secure){return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.HTTP),{plain:!!plain,secure:!!secure});};jscape.TransportService.webdav=function(plain,secure){return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.WEBDAV),{plain:!!plain,secure:!!secure});};jscape.TransportService.as2=function(plain,secure){return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.AS2),{plain:!!plain,secure:!!secure});};jscape.TransportService.agent=function(host,port,key){return $.extend(new jscape.TransportService(jscape.TransportService.Protocol.AGENT,host,port),{keyAlias:""+key});};jscape.TransportServiceSummary=Class.extend({initialize:function(a,b,c,d,e,f,g,h,i,k,l,m){this.id=a||null;this.protocol=b||null;this.plainAddress=c||null;this.secureAddress=d||null;this.keyAlias=e||null;this.serviceType=f||null;this.authenticationType=g||null;this.identificationCode=h||null;this.username=i||null;this.status=jscape.TransportServiceSummary.Status.valueOf(k);this.uptime=parseInt(l)||null;this.errorMessage=m||"";},isStarted:function(){return this.status==jscape.TransportServiceSummary.Status.STARTED;},isStopped:function(){return this.status==jscape.TransportServiceSummary.Status.STOPPED;},isError:function(){return!!this.errorMessage;},isBindingError:function(){return!!this.errorMessage&&/address.+bind/i.test(this.errorMessage);}});jscape.TransportServiceSummary.fromJSON=function(data){return data?new jscape.TransportServiceSummary(data.id,data.protocol,data.plainAddress,data.secureAddress,data.keyAlias,data.serviceType,data.authenticationType,data.identificationCode,data.username,data.status,data.uptime,data.errorMessage):null;};jscape.TransportServiceSummary.Status={STARTED:"STARTED",STOPPED:"STOPPED",ERROR:"ERROR",values:function(){return[this.STARTED,this.STOPPED,this.ERROR];},valueOf:function(value){return $.inArray(value,this.values())!=-1?value:this.STOPPED;}};jscape.LogService=Class.extend({initialize:function(a){this.type=a||jscape.LogService.Type.FILE;}});jscape.LogService.fromJSON=function(data){var type=jscape.LogService.typeOf(data);switch(type){case jscape.LogService.Type.FILE:return jscape.LogService.file(data.directory,data.strategyName,data.fileSize);case jscape.LogService.Type.DB:return jscape.LogService.db(data.url,data.username,undefined,data.poolSize,data.idleConnectionTTL,data.recordExpirationPeriodMillis);case jscape.LogService.Type.DOMAIN:return jscape.LogService.domain(data.recordExpirationPeriodMillis);default:return null;}};jscape.LogService.Type={FILE:"FILE",DB:"DB",DOMAIN:"DB_SYSTEM"};jscape.LogService.FILE_STRATEGY={DAILY:"Daily",WEEKLY:"Weekly",MONTHLY:"Monthly",FILE_SIZE:"FileSize"};jscape.LogService.file=function(directory,strategy,size){return $.extend(new jscape.LogService(jscape.LogService.Type.FILE),{directory:directory,strategyName:strategy,fileSize:parseInt(size)||0});};jscape.LogService.db=function(url,user,password,poolSize,ttl,clearRecordsPeriod){return $.extend(new jscape.LogService(jscape.LogService.Type.DB),{url:url,username:user||"",password:password||"",poolSize:poolSize,idleConnectionTTL:ttl,recordExpirationPeriodMillis:clearRecordsPeriod});};jscape.LogService.domain=function(recordExpirationPeriod){return $.extend(new jscape.LogService(jscape.LogService.Type.DOMAIN),{recordExpirationPeriodMillis:parseInt(recordExpirationPeriod)||null});};jscape.LogService.typeOf=function(descriptor,defaultType){return descriptor!=null&&$.inArray(descriptor.type,[jscape.LogService.Type.FILE,jscape.LogService.Type.DB,jscape.LogService.Type.DOMAIN])!=-1?descriptor.type:defaultType||null;};jscape.SyslogService=Class.extend({initialize:function(host,port,facility,processName,format,enableTcp,keyProvider){this.host=host||"";this.port=parseInt(port)||0;this.facilityCode=$.isNumeric(facility)?parseInt(facility):1;this.processName=processName||"";this.formatType=format||"";this.enableTcp=!!enableTcp;this.keyProvider=keyProvider||null;}});jscape.SyslogService.fromJSON=function(data){return data?new jscape.SyslogService(data.host,data.port,data.facilityCode,data.processName,data.formatType,data.enableTcp,data.keyProvider):null;};jscape.DomainExtendedLogConfiguration=Class.extend({initialize:function(a){this.splunkHttpData=jscape.DomainExtendedLogConfiguration.SplunkHttpData.fromJSON(a);}});jscape.DomainExtendedLogConfiguration.fromJSON=function(data){return new jscape.DomainExtendedLogConfiguration(data.splunkHttpData);};jscape.DomainExtendedLogConfiguration.splunkHttp=function(host,port,timeout,sslRequired,token,source,sourceType,index){return new jscape.DomainExtendedLogConfiguration(new jscape.DomainExtendedLogConfiguration.SplunkHttpData(host,port,timeout,sslRequired,token,source,sourceType,index));};jscape.DomainExtendedLogConfiguration.SplunkHttpData=Class.extend({initialize:function(a,b,c,d,e,f,g,h){this.host=a||"";this.port=parseInt(b)||0;this.timeout=parseInt(c)||0;this.sslRequired=!!d;this.accessToken=e||"";this.source=f||null;this.sourceType=g||null;this.index=h||null;}});jscape.DomainExtendedLogConfiguration.SplunkHttpData.fromJSON=function(data){return data?new jscape.DomainExtendedLogConfiguration.SplunkHttpData(data.host,data.port,data.timeout,data.sslRequired,data.accessToken,data.source,data.sourceType,data.index):null;};jscape.WebResources=Class.extend({initialize:function(lang,displayName,properties){this.lang=lang||"";this.displayName=displayName||lang;this.properties=properties||{};},isDefault:function(){return""===this.lang||jscape.WebResources.DEFAULT_LANGUAGE===this.lang;},clone:function(){return new jscape.WebResources(this.lang,this.displayName,$.extend({},this.properties));},toJSON:function(){return jscape.WebResources.DEFAULT_LANGUAGE===this.lang?new jscape.WebResources("",this.displayName,$.extend({},this.properties)):this;}});jscape.WebResources.DEFAULT_LANGUAGE="default";jscape.WebResources.fromJSON=function(data){return data?new jscape.WebResources(data.lang===""?jscape.WebResources.DEFAULT_LANGUAGE:data.lang,data.displayName,data.properties):null;};jscape.WebResourcesConfiguration=Class.extend({initialize:function(resources){this.resources=resources||[];},clone:function(){return new jscape.WebResourcesConfiguration($.map(this.resources,function(r){return r.clone();}));}});jscape.WebResourcesConfiguration.fromJSON=function(data){return new jscape.WebResourcesConfiguration($.map(data?data.resources||[]:[],jscape.WebResources.fromJSON));};jscape.WebLogoConfiguration=Class.extend({PLACEHOLDER:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",initialize:function(a,b){var re=/data:(image\/.*);base64,(.+)/;if(re.test(a)){var tmp=a;a=tmp.replace(re,"$2");b=tmp.replace(re,"$1");}else{if(!a){a=this.PLACEHOLDER.replace(re,"$2");b=this.PLACEHOLDER.replace(re,"$1");}}
this.data=a;this.type=b||"image/png";},clone:function(){return new jscape.WebLogoConfiguration(this.data,this.type);},toDataURL:function(){return"data:{0};base64,{1}".supplant({0:this.type,1:this.data});},toString:function(){return this.toDataURL();},toJSON:function(){var str=this.toDataURL();return{data:str===this.PLACEHOLDER?"":this.data};}});jscape.WebLogoConfiguration.fromJSON=function(data){return new jscape.WebLogoConfiguration(data?data.data:null);};jscape.WebLogoConfiguration.fromFile=function(file){var deferred=$.Deferred();var promise=deferred.promise();if(file&&file.type.match("image.*")&&window.FileReader){var type=file.type;var reader=new FileReader();reader.onload=function(e){reader.onload=null;deferred.resolve(new jscape.WebLogoConfiguration(e.target.result,type));deferred=type=reader=null;};reader.readAsDataURL(file);}else{deferred.resolve(new jscape.WebLogoConfiguration());}
return promise;};jscape.Page=Class.extend({initialize:function(a,b,c){this.records=$.isArray(a)?a:[];this.recordIndex=parseInt(b)||0;this.totalRecords=parseInt(c)||this.records.length;}});jscape.Page.fromJSON=function(data,recordsProvider){return $.isPlainObject(data)?new jscape.Page($.map(data.records||[],recordsProvider),data.recordIndex,data.totalRecords):new jscape.Page($.map($.isArray(data)?data:[],recordsProvider));};jscape.Page.requestParameters=function(params){function parametrize(value){return value?value.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase():value;}
var startIndex,count,query;if($.isPlainObject(params)){startIndex=params.page?(params.page-1)*params.rows:null;count=params.rows||null;query=$.extend({},params);delete query.page;delete query.rows;query.sort=parametrize(query.sort);query.order=parametrize(query.order);query.field=parametrize(query.field);}
return{startIndex:startIndex,count:count,query:query};};jscape.Page.datagridFormatter=function(){return function(page){return $.isArray(page)?{total:page.length,rows:page}:{total:page.totalRecords,rows:page.records};}};jscape.AppFunction=Class.extend({initialize:function(a,b,c){this.name=a||"";this.templates=b||{};this.description=c||"";}});jscape.AppFunction.fromJSON=function(data){return data?new jscape.AppFunction(data.name,data.templates,data.description):null;};jscape.TriggerFunction=Class.extend({initialize:function(a,b,c){this.name=a||"";this.templates=b||{};this.description=c||"";}});jscape.TriggerFunction.fromJSON=function(data){return data?$.extend(new jscape.TriggerFunction(),data):null;};jscape.TriggerEvent=Class.extend({initialize:function(a,b,c){this.type=a||"";this.name=b||"";this.description=c||"";}});jscape.TriggerEvent.fromJSON=function(data){return data?$.extend(new jscape.TriggerEvent(),data):null;};jscape.TriggerAction=Class.extend({initialize:function(a,b,c,d,e){this.name=a||"";this.actionClass=b||"";this.displayName=c||"";this.description=d||"";this.group=e||"";}});jscape.TriggerAction.fromJSON=function(data){return data?new jscape.TriggerAction(data.name,data.actionClass,data.displayName,data.description,data.group):null;};jscape.Phone=Class.extend({initialize:function(a,b,c){this.code=a||"";this.number=b||"";this.extension=c;}});jscape.Phone.fromJSON=function(data){return data&&((data.code&&String(data.code).trim().length)||(data.number&&String(data.number).trim().length))?new jscape.Phone(data.code,data.number,data.extension):null;};jscape.ProxyData=Class.extend({initialize:function(a,b,c,d,e){this.type=jscape.ProxyData.Type.fromString(a);this.host=b||"";this.port=parseInt(c)||0;this.username=d||null;this.password=e||null;}});jscape.ProxyData.fromJSON=function(data){return data?new jscape.ProxyData(data.type,data.host,data.port,data.username):null;};jscape.ProxyData.Type={HTTP:"HTTP",SOCKS4:"SOCKS4",SOCKS5:"SOCKS5"};jscape.ProxyData.Type.fromString=function(data){var value=jscape.ProxyData.Type[(""+data).toUpperCase()];return!!value&&typeof value!=="function"?value:jscape.ProxyData.Type.HTTP;};jscape.ConfigManager=Class.extend({subscribers:null,initialize:function(){this.subscribers=[];},subscribe:function(entry){this.subscribers.push(entry);return this;},loadConfig:function(params,defaultConfig){return this.doLoad_(params,defaultConfig).catch($.proxy(function(){return defaultConfig;},this)).then($.proxy(function(config){if(!!config){this._publishConfigurationChanged(config);}
return config;},this));},saveConfig:function(config,stopPropagation){return this.doSave_(config).then($.proxy(function(config){this._publishConfigurationChanged(config);if(!stopPropagation){this._fireSuccessMessage();}
return config;},this));},testConfig:function(config){return this.doTest_(config);},doLoad_:function(params,defaultConfig){return $.Deferred().resolve(defaultConfig).promise();},doSave_:function(config){return $.Deferred().resolve(config).promise();},doTest_:function(config){return $.Deferred().resolve().promise();},_publishConfigurationChanged:function(config){for(var i=0,len=this.subscribers.length;i<len;++i){var subscriber=this.subscribers[i];if(subscriber.onConfigurationChanged){subscriber.onConfigurationChanged(config);}}},_fireSuccessMessage:function(){$(document).triggerHandler("broadcast",[window.R.string.APPLICATION_SUCCESS_APPLY]);}});